# Common Folder

> **Available languages**: [English (current)](README.md) | [Italiano](README.it.md)

This folder contains NixOS configuration files that are **common** to all host and user combinations. It includes three subfolders `gui`, `packages`, and `network` and a `system.nix` file.

## Folder Structure

```bash
common/
├── config/
│   ├── boot_luks.nix
│   ├── sudo.nix
│   └── system.nix.template
├── gui/
│   ├── gnome.nix.template
│   ├── hyprland.nix.template
│   ├── kde.nix.template
│   └── themes/
│       ├── grub/
│       │   └── grub_catppuccin.nix
│       ├── hyprland/
│       │   └── hyprland_catppuccin.nix
│       └── plymouth/
│           ├── plymouth_breeze-plymouth.nix
│           ├── plymouth_catppucin.nix
│           ├── plymouth_nixos-bgrt.nix
│           └── plymouth_plymouth-themes.nix
├── network/
│   ├── default_network.nix
│   └── nmconnection_files/
└── packages/
    ├── default_packages_services.nix.template
    ├── extra_packages_services.nix
    ├── grub.nix
    ├── kde_packages.nix
    ├── syncthing.nix.template
    └── workstation_packages_services.nix
```

---

### `config` Folder

This folder stores **Operating System-related** configurations:

- **`boot_luks.nix`** for configuring boot parameters with LUKS encryption support and Plymouth boot splash settings.
- **`sudo.nix`** for enabling and managing sudo, such as adding custom rules that allow users in the **`wheel`** group (administrators) to execute specific system commands **without requiring a password** (NOPASSWD option).
- **`system.nix`** file contains settings related to localization and the specific version of NixOS you’re using. You’ll typically import this file in each host’s `configuration.nix` to ensure consistent locale and system-wide settings across all hosts.

---

### `gui` Folder

This folder stores configurations for the graphical environments you can choose to enable:

- **`gnome.nix`** – Gnome  
- **`hyprland.nix`** – Hyprland  
- **`kde.nix`** – KDE Plasma (version 6)
- **`themes/`** - A subfolder containing themes for various software (GRUB, Hyprland, Plymouth, ...)

The Gnome and KDE configurations are drawn from NixOS installations, while the Hyprland configuration is custom, including base packages for a functional setup (display manager, file manager, terminal, status bar, and launcher). All files also enable audio with PipeWire.

> **Note**: Make sure to change the variables
> - in **`gnome.nix`** and **`kde.nix`**, replace `${KEY_LAYOUT}` with the desired [ISO 639 code](https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes) for your keyboard layout
> - in **`hyprland.nix`**, replace `${FONT}` with your preferred font and select the desired theme

---

### `packages` Folder

This folder includes configurations for packages and services. Each file has its own purpose:

- **`default_packages_services.nix`**  
  Basic packages and services that should be enabled on all hosts by default.
- **`extra_packages_services.nix`**  
  Packages and services for specific configurations (e.g., installing **solaar** for Logitech devices).
- **`grub.nix`**  
  Boot loader (GRUB) configuration (e.g., enabling the “catppuccin” theme).
- **`kde_packages.nix`**  
  Additional programs enhancing the KDE Plasma environment. This file is automatically imported if you choose KDE in `gui/kde.nix`.
- **`syncthing.nix`**  
  Configuration for **Syncthing**. Read the file for more information.
- **`workstation_packages_services.nix`**  
  Packages and services potentially useful for all users on a workstation host.

> **Note:** These categories and the included packages/services are based on personal needs, not official documentation.

---

### `network` Folder

This folder contains **network-related** configurations:

- **`default_network.nix`**  
  Basic configuration for NetworkManager.
- **`nmconnection_files`**  
  A subfolder for storing `.nmconnection` files that define WiFi, VPN, or other network connections managed by NetworkManager.

If you want to import NetworkManager configurations during the build (e.g., WiFi, VPN, etc.), place the `.nmconnection` files here. Then declare them in each host’s `nm_configurations.nix` file.  
These files can be copied directly from your own system (usually found in `/etc/NetworkManager/system-connections`) or generated by a script (currently in development).
If a `.nmconnection` file is declared but not found in this folder, you’ll receive a warning during the build (though it won’t cause a failure).
